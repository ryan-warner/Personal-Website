---
import "../styles/main.css";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✈️</text></svg>"
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Ryan Warner</title>
  </head>
  <script>
    const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
    const currentTheme = localStorage.getItem("theme");
    const setLight = document.getElementById("setLight");
    const setDark = document.getElementById("setDark");
    const lightBg = "#EFE6DD";
    const darkBg = "#40424F";

    if (!setLight || !setDark) {
      throw new Error("Could not find setLight or setDark element");
    }

    if (currentTheme) {
      document.body.style.backgroundColor =
        currentTheme === "dark" ? darkBg : lightBg;
      document.body.style.color = currentTheme === "dark" ? "white" : "black";
      if (currentTheme === "dark") {
        setDark.style.textDecoration = "underline";
      } else {
        setLight.style.textDecoration = "underline";
      }
    }

    // Add transition after initial render
    setTimeout(() => {
      document.body.style.transitionDuration = "0.4s";
    }, 100);

    const handleClick = (e: MouseEvent) => {
      const mode =
        (e.target as HTMLButtonElement).id === "setLight" ? "light" : "dark";
      document.body.style.backgroundColor = mode === "dark" ? darkBg : lightBg;
      document.body.style.color = mode === "dark" ? "white" : "black";
      setLight.style.textDecoration = mode === "light" ? "underline" : "none";
      setDark.style.textDecoration = mode === "dark" ? "underline" : "none";
      localStorage.setItem("theme", mode);
    };

    // Add event listeners
    setLight.addEventListener("click", handleClick);
    setDark.addEventListener("click", handleClick);
  </script>
  <body
    class="font-mono flex flex-col min-h-dvh px-4 md:px-12 min-w-full select-none md:pt-[15%] pt-[25%] bg-[#EFE6DD] dark:bg-[#40424F] text-black dark:text-white"
  >
    <div class="absolute top-0 right-0 mx-8 mt-4 flex flex-row align-middle">
      <button class="hover:underline" id="setLight">Light</button>
      <div class="mx-2">/</div>
      <button class="hover:underline" id="setDark">Dark</button>
    </div>
    <div class="flex flex-col gap-14">
      <div class="flex flex-col gap-4">
        <div class="text-5xl">Ryan Warner</div>
        <div class="opacity-50 w-2/3 md:w-full">
          I write software for things that fly
        </div>
      </div>

      <div class="flex flex-col gap-6">
        <div class="flex flex-col gap-2">
          <div class="text-xl">{`\u00bb About`}</div>
          <div class="flex flex-col opacity-50 w-4/5 md:w-full">
            <div>Located in Atlanta, GA</div>
            <div>Currently into running, live music, and driving stick</div>
          </div>
        </div>

        <div class="flex flex-col gap-2">
          <div class="text-xl">{`\u00bb Work`}</div>
          <div class="flex">
            <div class="opacity-50 w-2/3 md:w-full">
              Uncrewed and Advanced Aviation @ <a
                href="https://foreflight.com"
                target="_blank"
                class="hover:underline">ForeFlight</a
              >
            </div>
          </div>
        </div>
        <div class="flex flex-col gap-2">
          <div class="text-xl">{`\u00bb Socials`}</div>
          <div class="flex flex-row gap-2">
            <a
              href="https://github.com/ryan-warner"
              target="_blank"
              class="hover:underline opacity-50"
            >
              GitHub
            </a>
            <div class="opacity-50">/</div>
            <a
              href="https://linkedin.com/in/warner-ryan"
              target="_blank"
              class="hover:underline opacity-50"
            >
              LinkedIn
            </a>
            <div class="opacity-50">/</div>
            <a
              href="https://strava.com/athletes/ryanwarner"
              target="_blank"
              class="hover:underline opacity-50"
            >
              Strava
            </a>
            <div class="opacity-50">/</div>
            <a
              href="https://i.airbuds.fm/ryan.warner"
              target="_blank"
              class="hover:underline opacity-50"
            >
              Airbuds
            </a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
